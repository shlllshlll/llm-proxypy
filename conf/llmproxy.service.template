[Unit]
Description=llmproxy service
After=network.target

[Service]
User=your_user
Group=your_group
WorkingDirectory=/path/to/your_project

# 注入环境变量，供 Pydantic 和 Gunicorn 使用
Environment="LLM_PROXY__LOG_LEVEL=INFO"

ExecStart=/path/to/gunicorn \
    --workers 1 \
    --worker-class uvicorn.workers.UvicornWorker \
    --bind 0.0.0.0:5210 \
    --access-logfile /var/log/llmproxy/access.log \
    --error-logfile /var/log/llmproxy/server.log \
    llm_proxy.app:app

Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target